(this.webpackJsonpiknelia=this.webpackJsonpiknelia||[]).push([[33],{2140:function(e,a,t){"use strict";t.r(a);var i=t(5),c=t(14),s=t(0),n=t(113),l=t(1327),o=t(1350),r=t(1340),b=t(57),d=t(356),m=t(53),j=t(56),p=t(4),g=t(48),h=t(133),O=t(1);const u=Object(d.a)((e=>({button:{margin:e.spacing(1)},input:{display:"none"}})));a.default=()=>{const e=u(),a=Object(s.useState)({title:"",img:"",imgBlob:"",content:'<h1>Iknelia | Crea tu propio post</h1><p><a href="http://localhost:3000/dashboard/analytics" target="_blank">en Iknelia</a><p>'}),t=Object(c.a)(a,2),d=t[0],x=t[1],f=Object(m.a)().user;var v=Object(O.jsx)("div",{className:"image-container",children:"Seleccione una imagen para la vista previa"});d.img&&(v=Object(O.jsxs)("div",{className:"image-container",children:[Object(O.jsx)("img",{src:d.img,alt:"icon",width:"200"})," "]}));return Object(O.jsxs)("div",{className:"m-sm-30",children:[Object(O.jsx)("div",{className:"mb-sm-30",children:Object(O.jsx)(l.a,{variant:"contained",color:"secondary",onClick:()=>g.a.push("/"+f.uid+"/dashboard"),children:"Volver al escritorio"})}),Object(O.jsx)(j.ValidatorForm,{children:Object(O.jsxs)(o.a,{flex:!0,justify:"flex-end",container:!0,spacing:1,children:[Object(O.jsx)(o.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(O.jsx)(j.TextValidator,{className:"mb-4 w-full",label:"Titulo de la nueva entrada",onChange:e=>{x(Object(i.a)(Object(i.a)({},d),{},{title:e.target.value}))},type:"text",name:"title"})}),Object(O.jsx)(o.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(O.jsx)(n.t,{content:d.content,handleContentChange:e=>{x(Object(i.a)(Object(i.a)({},d),{},{content:e}))},placeholder:"Escribe aqu\xed..."})}),Object(O.jsxs)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:[Object(O.jsx)("input",{accept:"image/*",className:e.input,id:"text-button-file",onChange:e=>{x(Object(i.a)(Object(i.a)({},d),{},{imgBlob:e.target.files[0]}));let a=new FileReader;a.onloadend=()=>{x(Object(i.a)(Object(i.a)({},d),{},{img:a.result}))},a.readAsDataURL(e.target.files[0]),v=Object(O.jsxs)("div",{className:"image-container",children:[Object(O.jsx)("img",{src:d.img,alt:"icon",width:"200"})," "]})},type:"file"}),Object(O.jsxs)("label",{htmlFor:"text-button-file",children:[Object(O.jsxs)(l.a,{component:"span",size:"large",color:"secondary",variant:"contained",className:e.button,children:[Object(O.jsx)(r.a,{children:"upload"}),"Upload"]}),v]})]}),Object(O.jsx)(o.a,{item:!0,flex:!0,lg:6,md:6,sm:12,xs:12,children:Object(O.jsxs)(l.a,{className:Object(p.default)("uppercase ml-auto",e.button),size:"large",color:"primary",variant:"contained",type:"submit",onClick:()=>{(()=>{var e={title:d.title,content:d.content,date:b.a.firestore.Timestamp.fromDate(new Date),author:f.uid,likes:[],comments:[],img:["https://firebasestorage.googleapis.com/v0/b/iknelia-3cd8e.appspot.com/o/blogs%2F1.jpg?alt=media&token=514d6471-8353-421c-9b8e-f9d51216eaf4","https://firebasestorage.googleapis.com/v0/b/iknelia-3cd8e.appspot.com/o/blogs%2F2.jpg?alt=media&token=b62b18d7-c8f4-434e-9b47-3dd5b87769e7","https://firebasestorage.googleapis.com/v0/b/iknelia-3cd8e.appspot.com/o/blogs%2F3.jpg?alt=media&token=763f7190-0993-4f72-a20f-cbc0a1130cbf"][Math.floor(3*Math.random())]};h.a.post("/b/new",{blogdata:Object(i.a)({},e)}).then((()=>{g.a.push("/"+f.uid+"/myblogs")}))})()},children:[Object(O.jsx)(r.a,{children:"send"}),Object(O.jsx)("span",{className:"pl-8 capitalize",children:"Publicar"})]})})]})})]})}}}]);